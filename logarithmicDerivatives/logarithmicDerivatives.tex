\documentclass{ximera}

\input{../preamble.tex}

\title{4.4 - Graphs and Derivatives of Logarithmic Functions}

\begin{document}
\begin{abstract}
\end{abstract}
\maketitle

\section{Graphs of logarithmic functions}

Because logarithmic functions are inverses of exponential functions, their graphs are closely related. 

First, recall the following properties of exponential graphs $y=b^x$.

\begin{itemize}
\item They cross the $y$-axis the point $(0,1)$.
\item They contain the point $(1,b)$.
\item They have a horizontal asymptote at $y=0$.
\item There are two basic graph shapes, depending on whether the $b$ in $b^x$ is between 0 and 1, or greater than 1.
\end{itemize}

Logarithmic functions are inverses of exponential functions, which means that the graph is reflected across the line $y=x$ as compared with exponential graphs. For this reason, graphs of $y=\log_b(x)$ have the following properties:

\begin{itemize}
\item They cross the $x$-axis at the point $(1,0)$.
\item They contain the point $(b,1)$.
\item They have a vertical asymptote at $x=0$.
\item There are two basic graph shapes, depending on whether the $b$ in $b^x$ is between 0 and 1, or greater than 1.
\end{itemize}


\begin{example}
  Here we see the the graphs of four logarithmic functions.
  \begin{image}
    \begin{tikzpicture}
      \begin{axis}[
          domain=0.05:4,
          xmin=-.5, xmax=4,
          ymin=-2, ymax=2,
          axis lines =middle, xlabel=$x$, ylabel=$y$,
          every axis y label/.style={at=(current axis.above origin),anchor=south},
          every axis x label/.style={at=(current axis.right of origin),anchor=west},
        ]
	\addplot [very thick, penColor, smooth] {ln(x)}; % C
        \addplot [very thick, penColor2, smooth] {ln(x)/ln(2)}; % D
        \addplot [very thick, penColor3, smooth, samples=100] {ln(x)/ln(1/2))}; % A
        \addplot [very thick, penColor4, smooth, samples=100] {ln(x)/ln(1/3))}; %B
        
        
        \node at (axis cs:.5, 1.3 ) [penColor3,anchor=west] {$A$};
        \node at (axis cs:.2, .5 ) [penColor4,anchor=west] {$B$};
        \node at (axis cs:0.2, -.5 ) [penColor,anchor=west] {$C$};
        \node at (axis cs:.5, -1.3 ) [penColor2,anchor=west] {$D$};
        
      \end{axis}
    \end{tikzpicture}
  \end{image}
  Match the curves $A$, $B$, $C$, and $D$ with the functions
  \[
  \ln(x),\qquad \log_{1/2}(x), \qquad \log_{1/3}(x),\qquad \log_2(x).
  \]
  \begin{explanation}
    First remember that if the graph is $\log_b(x)$, the graph will contain the point $(b,1)$. So we can look along $y=1$ to figure out the value of $b$.

    Moreover, $\ln(x) = \log_e(x)$ where $e= 2.71828\dots$.  So now
    examine each of these functions along the horizontal line $y=1$
    \begin{image}
      \begin{tikzpicture}
        \begin{axis}[
            domain=0.05:4,
            xmin=-.5, xmax=4,
            ymin=-2, ymax=2,
            axis lines =middle, xlabel=$x$, ylabel=$y$,
            every axis y label/.style={at=(current axis.above origin),anchor=south},
            every axis x label/.style={at=(current axis.right of origin),anchor=west},
          ]
	  \addplot [very thick, penColor, smooth] {ln(x)}; % C
          \addplot [very thick, penColor2, smooth] {ln(x)/ln(2)}; % D
          \addplot [very thick, penColor3, smooth, samples=100] {ln(x)/ln(1/2))}; % A
          \addplot [very thick, penColor4, smooth, samples=100] {ln(x)/ln(1/3))}; %B
          \addplot [dashed] {1};
        
          
          \node at (axis cs:.5, 1.3 ) [penColor3,anchor=west] {$A$};
          \node at (axis cs:.2, .5 ) [penColor4,anchor=west] {$B$};
          \node at (axis cs:0.2, -.5 ) [penColor,anchor=west] {$C$};
          \node at (axis cs:.5, -1.3 ) [penColor2,anchor=west] {$D$};

          \addplot[color=penColor,fill=penColor,only marks,mark=*] coordinates{(e,1)}; %C
          \addplot[color=penColor2,fill=penColor2,only marks,mark=*] coordinates{(2,1)}; %D
          \addplot[color=penColor3,fill=penColor3,only marks,mark=*] coordinates{(1/2,1)}; %A
          \addplot[color=penColor4,fill=penColor4,only marks,mark=*] coordinates{(1/3,1)}; %B
        \end{axis}
      \end{tikzpicture}
    \end{image}
    Note again (this is from the definition of a logarithm)
    \[
    \left(\frac{1}{3}\right)^1 < \left(\frac{1}{2}\right)^1  < 2^1 < e^1.
    \]
    Hence we see:
    \begin{itemize}
    \item $\log_{1/3}(x)$ corresponds to $\answer[given]{B}$.
    \item $\log_{1/2}(x)$ corresponds to $\answer[given]{A}$.
    \item $\log_2(x)$ corresponds to $\answer[given]{D}$.
    \item $\ln(x)$ corresponds to $\answer[given]{C}$.
    \end{itemize}
  \end{explanation}
\end{example}

\section{Logarithmic Limits}

From the graph of $y=\log_b(x)$, let's first assume that $b>1$ (restricting ourselves to only one of the two shapes of a logarithmic graph, like the one below). Notice that since $e>1$ these limits include $y=\ln x$.

  \begin{image}
    \begin{tikzpicture}
      \begin{axis}[
          domain=0.05:4,
          xmin=-.5, xmax=4,
          ymin=-2, ymax=2,
          axis lines =middle, xlabel=$x$, ylabel=$y$,
          every axis y label/.style={at=(current axis.above origin),anchor=south},
          every axis x label/.style={at=(current axis.right of origin),anchor=west},
        ]
	\addplot [very thick, penColor, smooth] {ln(x)}; % C
        
      
        
      \end{axis}
    \end{tikzpicture}
  \end{image}

From this graph, we get the following limits, which you should memorize (assuming again $b>1$):

\begin{itemize}
\item $\displaystyle \lim_{x\to\infty} \log_b(x) = \infty$
\item $\displaystyle \lim_{x\to0^+} \log_b(x)=-\infty$ (This is due to the vertical asymptote at $x=0$.)
\end{itemize}

\begin{question}
Evaluate $\displaystyle \lim_{x\to\infty} \ln\left(\frac{1}{x}\right)$.

First, we know that as $x \to \infty$, $\displaystyle \frac{1}{x} \to \answer{0}$.

Therefore,  $\displaystyle \lim_{x\to\infty} \ln\left(\frac{1}{x}\right) = \answer{-\infty}$.

\end{question}


\section{The Derivative of the Natural Logarithm}


We do not yet have a shortcut formula for the derivative of the natural logarithm, so let's start
from the definition.  Set $f(x) = \ln x$.
\begin{align*}
	\dfrac{f(x+h) - f(x)}{h} &= \dfrac{\ln(x+h) - \ln(x)}{h} \\
		&= \dfrac{ \ln \left( \dfrac{x+h}{x} \right) }{h} \\
		&= \dfrac{1}{h} \cdot \ln \left( \dfrac{x+h}{x} \right) \\
		&= \ln \left( \left( \dfrac{x+h}{x} \right)^{1/h} \right).
\end{align*}
That is, 
\[ f'(x) = \lim_{h \to 0} \ln \left( \left( \dfrac{x+h}{x} \right)^{1/h} \right) = \ln \left( \lim_{h \to 0} \left( \dfrac{x+h}{x} \right)^{1/h} \right).\]
The limit inside the logarithm is a bit beyond what we can deal with right now, so unless we can come up with a different strategy, we're stuck.


What do we know about this logarithm?  We know that the natural logarithm function $f(x) = \ln x$ is the inverse of the exponential function $e^x$
That is, 
  \[  y = \ln(x)\qquad\text{means}\qquad e^y = x. \]
Since we're trying to find the derivative of $\ln x$, that means we're trying to find $y'$.  Rather than working with the logarithmic version of $y = \ln x$,
let's try to work with its exponential version $e^y = x$.
We'll start by taking the derivative of both sides
\[ \ddx \left( e^y \right) = \ddx \left( x \right). \]
The right-hand side is easy, but what about the left-hand side?  If we think of $y$ as just a function of $x$, then the left-hand side is the exponential $e^x$ with the
$x$ replaced by a function.  It's a Chain Rule problem, when we think of $e^y$ as having an outside function $g(x) = e^x$ and an inside function $f(x) = y$.
By Chain Rule, $\ddx g(f(x)) = g'(f(x)) f'(x) = e^y y'$.  Let's put all this together.
\begin{align*}
		e^y &= x\\
	\ddx \left( e^y \right) &= \ddx \left( x \right)	\\
	e^y y' &= \answer[given]{1}\\
	y' &= \dfrac{1}{e^y}.
\end{align*}
We notice once again that $e^y = x$, so $\dfrac{1}{e^y} = \dfrac{1}{x}$.  This gives our derivative formula.
\begin{theorem}[The derivative of the natural logarithm function]\index{lnx@$\ln x$}\index{derivative!of lnx@of $\ln x$}
	The derivative of the natural logarithm function is given by
	\[ \ddx \ln(x) = \dfrac{1}{x} \] for $x > 0$.
\end{theorem}


\begin{example}
	Compute $\displaystyle \ddx \ln\left(2x+1\right)$.

	\begin{explanation}
		This is a Chain Rule question with outer function $f(x) = \ln x$ and inner function $g(x) = 2x+1$.
		We know $f'(x) = \dfrac{1}{x}$ and $g'(x) = \answer[given]{2}$, so that
		\[ \ddx \ln\left( 2x+1\right) = \dfrac{\answer[given]{2}}{\answer[given]{2x+1}}. \]
	\end{explanation}
\end{example}

\begin{question}
	Compute $\displaystyle \ddx e^{3x} \ln\left( 4x^2+3\right)$.
	  \begin{multipleChoice}
    		\choice{$\displaystyle e^{3x} \dfrac{1}{4x^2+3}$}
    		\choice{$\displaystyle 3e^{3x} \dfrac{8x}{4x^2+3}$}
    		\choice[correct]{$\displaystyle 3e^{3x}\ln(4x^2+3) + e^{3x} \dfrac{8x}{4x^2+3}$}
    		\choice{$\displaystyle 3e^{3x} + \dfrac{8x}{4x^2+3}$}
	\end{multipleChoice}
\end{question}

\section{The Derivative of Exponentials and Logarithms with Other Bases}
We have found derivative formulas for the natural exponential function $e^x$ and the natural logarithm function $\ln x$, but we have not
yet explored other bases.  That will be our focus for the rest of the section. 

For exponentials, we remember that any number $b > 0$ can be written in the form $e^x$ for some specific value of $x$.  To determine the $x$,
we solve the equation $b = e^x$ so $x = \ln b$.  That is, $b = e^{\ln b}$.  
\begin{align*}
	b^x &= (b)^x\\
		&= \left( e^{\ln b} \right)^x\\
		&= e^{x \ln b}.
\end{align*}

To find $\ddx b^x$ we are finding $\ddx e^{x \ln b}$, which we know by Chain Rule.
\begin{align*} 
	\ddx b^x &= \ddx e^{x \ln b}\\
		&= e^{x \ln b} \cdot \ddx \left( x \ln b \right)\\ 
		&= e^{x \ln b} \cdot (\ln b).
\end{align*}
Rewriting $e^{x \ln b}$ as $b^x$ we find our derivative formula.
\begin{theorem}
	The derivative of the exponential function $b^x$, for $b > 0$, $b \neq 1$ is given by:
	\[ \ddx b^x = b^x \ln b. \]
\end{theorem}

\begin{example}
	Compute $\displaystyle \ddx \sqrt{2}^x$.
	\begin{explanation}
		This is directly from our formula with $b = \sqrt{2}$.  We get  $\displaystyle \sqrt{2}^x \ln\sqrt 2$.
	\end{explanation}
\end{example}

\begin{example}
	Compute $\displaystyle \ddx 3^{x^2+2x}$.
	\begin{explanation}
		This is the $b=3$ situation, but the $x$ has been replaced by $x^2 + 2x$.  That means we'll need Chain Rule, too.
		\begin{align*}
			\ddx 3^{x^2 + 2x} &= 3^{\answer[given]{x^2+2x}} \cdot \ln \left( \answer[given]{3} \right) \cdot \ddx \left(  \answer[given]{x^2+2x}\right)\\
				&= 3^{x^2+2x} \ln(3) (2x+2).
		\end{align*}
	\end{explanation}
\end{example}

To deal with logarithms of other bases, we rely on the change of base formula:
\begin{theorem}[The change of base formula]\index{change of base formula}
	Let $b > 0$ with $b \neq 1$.  Then for any $a > 0$ and $a \neq 1$ and any $x > 0$,
	\[ \log_b x = \dfrac{\log_a x  }{ \log_a b }. \]
\end{theorem}

This formula allows us to replace a logarithm with one base with a logarithm with whatever base we want.  There is one base that we like more than the
rest, base $e$.  This means $\displaystyle \log_b x = \dfrac{ \ln x}{ \ln b}$. 
\begin{align*}
	\ddx \log_b x &= \ddx \left( \dfrac{ \ln x }{\ln b} \right)\\
		&= \dfrac{1}{\ln b} \cdot \ddx\left( \ln x \right) \\
		&= \dfrac{1}{\ln b} \cdot \dfrac{1}{x}.
\end{align*}

This gives our derivative formula.
\begin{theorem}
	The derivative of the logarithmic function $\log_b x$, for $b > 0$, $b \neq 1$ is given by:
	\[ \ddx log_b x = \dfrac{1}{x \ln b}. \]
\end{theorem}

\begin{example}
	Compute $\displaystyle \ddx \log_7(2x-3)$.
	\begin{explanation}
		This is the formula for $b=7$, with $x$ replaced by $2x-3$.  We will need Chain Rule with inner function $g(x) = 2x-3$ and outer function $f(x) = \log_7 x$.
		We know $g'(x) = \answer[given]{2}$ and $f'(x) = \dfrac{\answer[given]{1}}{x \ln\left( \answer[given]{7} \right)}$.  Then
		The derivative is \[ \dfrac{2}{(2x-3) \ln 7}. \]
	\end{explanation}
\end{example}

\begin{example}
	Compute $\displaystyle \ddx 5^{2x} \log_{\frac{1}{3}}\left( 6x^3-2x\right)$.
	\begin{explanation}
		The outer most operation in this function is multiplication, so this is a product rule question.  We know the derivative of $5^{2x}$ is $5^{2x} \cdot 2$, and the derivative of
		$\log_{\frac{1}{3}}\left(6x^3 - 2x \right)$ is $\displaystyle \dfrac{1}{(6x^3-2x) \ln\left(\answer[given]{\frac{1}{3}}\right)} \cdot \left(\answer[given]{18x^2-2}\right))$.  The whole derivative is
		\[ 2 \cdot 5^{2x}\cdot \log_{\frac{1}{3}}\left( 6x^3-2x\right) + 5^{2x}\cdot \dfrac{18x^2-2}{(6x^3-2x)\ln\left(\frac{1}{3}\right)} . \]
	\end{explanation}
\end{example}

\begin{question}
	Compute $\displaystyle \ddx 6^{x^2} \log_5\left(x+3\right)$.
	\begin{multipleChoice}
		\choice{$\displaystyle 6^{2x} \dfrac{1}{(x+3) \ln 5}$}
    		\choice[correct]{$\displaystyle 2x \cdot 6^{x^2}\ln(6)\log_5(x+3) + 6^{x^2} \dfrac{1}{(x+3) \ln 5}$}
		\choice{$\displaystyle x^2 \cdot 6^{x^2-1} \log_5(x+3) + 6^{x^2} \dfrac{1}{(x+3) \ln 5}$}    		
    		\choice{$\displaystyle 2x \cdot 6^{x^2}\ln(6)\log_5(x+3) + 6^{x^2} \dfrac{5}{x+3}$}    		
	\end{multipleChoice}
\end{question}

\end{document}